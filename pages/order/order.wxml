<view class="container" style="padding:24rpx 24rpx 120rpx;">
  <view class="card" style="margin-bottom:24rpx;">
    <view class="row">
      <button class="tag" bindtap="chooseType" data-type="bulk">船舶集采</button>
      <button class="tag" bindtap="chooseType" data-type="personal">个人采购</button>
    </view>
    <view style="height:16rpx"/>
    <input class="input" placeholder="搜索商品..." bindinput="onSearch"/>

    <scroll-view class="scroll-x" scroll-x style="margin-top:16rpx;">
      <block wx:for="{{categories}}" wx:key="key">
        <button class="tag" style="margin-right:12rpx; {{currentCategory===item.key?'background:#0A3D91;color:#fff;':''}}" bindtap="onCategory" data-key="{{item.key}}">{{item.name}}</button>
      </block>
    </scroll-view>
  </view>

  <view class="card">
    <text style="font-weight:600;">商品列表</text>
    <view class="divider"/>
    <block wx:for="{{filtered}}" wx:key="id">
      <view class="row" style="padding:20rpx 0;border-bottom:1px solid #eee;">
        <view>
          <text style="font-weight:600;">{{item.name}}</text>
          <text class="muted" style="display:block;font-size:24rpx;">{{item.unit}}</text>
        </view>
        <view style="display:flex;align-items:center;">
          <text style="color:var(--primary);font-weight:600;margin-right:16rpx;">¥{{item.price}}</text>
          <view wx:if="{{item.badge>0}}" class="badge" style="background:#FFF2E8;color:#FF7D00;margin-right:8rpx;">{{item.badge}}</view>
          <button class="btn" style="width:72rpx;height:72rpx;border-radius:9999rpx;background:#EAF2FF;color:var(--primary);" bindtap="add" data-id="{{item.id}}">＋</button>
        </view>
      </view>
    </block>
  </view>
</view>