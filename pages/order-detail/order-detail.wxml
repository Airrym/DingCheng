<!-- pages/order-detail/order-detail.wxml -->
<view class="page-container">
  <view class="header">
    <view class="back-btn" bindtap="navigateBack">
    </view>
    <text class="title">订单详情</text>
  </view>

  <view class="order-card">
    <view class="order-header">
      <text class="order-number">订单 #{{order.id}}</text>
      <text class="order-date">{{order.date}}</text>
      <text class="order-status {{order.statusClass}}">{{order.status}}</text>
    </view>

    <view class="order-body">
      <text class="section-title">商品信息</text>
      <view class="product-list">
        <view class="product-item" wx:for="{{order.products}}" wx:key="name">
          <text class="product-name">{{item.name}}</text>
          <text class="product-quantity">{{item.quantity}} {{item.unit}}</text>
        </view>
      </view>

      <text class="section-title">收货信息</text>
      <view class="address-info">
        <text>{{profileInfo.name}} {{profileInfo.phone}}</text>
        <text>{{profileInfo.address}}</text>
      </view>

      <view class="order-summary">
        <view class="summary-row">
          <text>商品总价</text>
          <text>¥{{order.totalAmount}}</text>
        </view>
        <view class="summary-row">
          <text>运费</text>
          <text>¥0</text>
        </view>
        <view class="summary-row total">
          <text>实付款</text>
          <text>¥{{order.totalAmount}}</text>
        </view>
      </view>
    </view>
  </view>

  <view class="action-buttons" wx:if="{{order.status === '已完成'}}">
    <button class="btn review-btn" bindtap="reviewOrder">评价订单</button>
  </view>
</view>